# å®‰è£…Docker

Dockerå¯ä»¥å®‰è£…åœ¨ Windowsã€Macã€linuxä¸Šï¼Œæœ¬æ–‡åªä»‹ç»å¦‚ä½•åœ¨ Mac å’Œ Linux ä¸Šå®‰è£…å’Œå­¦ä¹  Docker

```alert type=note
Dockerå¯ä»¥åœ¨ Windows å®‰è£…å’Œä½¿ç”¨ï¼Œä½†éœ€è¦å¾ˆå¤šç¹ççš„é…ç½®ï¼Œå¾ˆå®¹æ˜“å› ä¸ºç³»ç»Ÿçš„é—®é¢˜å®‰è£…å¤±è´¥ã€‚ä¸ªäººä¸æ¨èåœ¨ Windows ä¸Šå®‰è£…å’Œä½¿ç”¨ Dockerã€‚ 
```



## Mac å®‰è£… Docker

Mac å®‰è£… Docker éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥åˆ° [Docker å®˜ç½‘](https://www.docker.com/)ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Docker Desktopï¼Œç„¶åç‚¹å‡»å®‰è£…ã€‚å®‰è£…å®Œæˆåï¼Œåœ¨å¯åŠ¨å°ä¸­æ‰¾åˆ° Docker å›¾æ ‡ï¼Œç‚¹å‡»å¯åŠ¨ Docker å³å¯ã€‚éšåå°±å¯ä»¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ Docker æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥åœ¨ Docker Desktop ä¸­ç®¡ç†é•œåƒå’Œå®¹å™¨ç­‰ã€‚

![docker-mac-install](docker-mac-install.png)



## Ubuntu å®‰è£… docker

æœ¬æ•™ç¨‹é€‰æ‹©ä½¿ç”¨è…¾è®¯äº‘ Linux è™šæ‹Ÿæœºï¼Œè´­ä¹°ä¸€å° Ubuntu æœåŠ¡å™¨ï¼Œä½œä¸ºå­¦ä¹ ä½¿ç”¨ï¼ŒåŸºç¡€é…ç½®å³å¯ï¼ˆ2æ ¸2Gå†…å­˜ï¼‰ã€‚å¦‚æœé¦–æ¬¡è´­ä¹°ï¼Œæˆ–è€…å­¦ç”Ÿèº«ä»½è´­ä¹°ï¼Œæˆ–è€…è¯•ç”¨ï¼Œä»·æ ¼éƒ½å¾ˆå®æƒ ã€‚

å¤§å®¶å¯èƒ½éƒ½çŸ¥é“ï¼Œå› ä¸ºæŸäº›åŸå› ï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘æ‰å¯ä»¥æ— éšœç¢çš„ä½¿ç”¨ Dockerï¼Œä¸‹è½½ Docker é•œåƒï¼Œè¿™ä¹Ÿæ˜¯é€‰æ‹©äº‘æœåŠ¡å™¨ä½œä¸ºæ•™ç¨‹æœºçš„åŸå› ã€‚å› ä¸ºåœ¨äº‘æœåŠ¡å™¨ä¸Šå¯ä»¥é€šè¿‡å›½å†…é•œåƒæºï¼Œä¸‹è½½ä½¿ç”¨ Docker é•œåƒã€‚èµ·ç ç›®å‰è¿˜èƒ½ä½¿ç”¨ï¼Œä¸”è¡Œä¸”çæƒœï¼ï¼ï¼

```alert type=note
æœ¬èŠ‚å®‰è£…è¯´æ˜é€‚ç”¨äºåœ¨è…¾è®¯äº‘äº‘æœåŠ¡å™¨ä¸Šå®‰è£… docker

å¦‚æœæœ‰æ¡ä»¶ç§‘å­¦ä¸Šç½‘ï¼Œå¯ä»¥å‚è€ƒ docker å®˜ç½‘å®‰è£…æ–‡æ¡£
https://docs.docker.com/engine/install/ubuntu/
```



### ç¬¬ä¸€æ­¥ï¼šè´­ä¹°äº‘æœåŠ¡å™¨

æœ¬æ•™ç¨‹ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘çš„ è½»é‡åº”ç”¨æœåŠ¡å™¨ï¼Œ**CPU 2æ ¸ï¼Œå†…å­˜ 2Gï¼Œé»˜è®¤ç³»ç»Ÿç›˜ 40G çš„ Ubuntu 24.04 LTS**ã€‚å¯¹äºåˆå­¦è€…ï¼Œè¿™ä¸ªé…ç½®æ˜¯è¶³å¤Ÿçš„ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µå’Œç»æµå®åŠ›è´­ä¹°(è¯•ç”¨)å³å¯ã€‚æ•´ä¸ªè´­ä¹°è¿‡ç¨‹éƒ½æ˜¯å¾ˆç®€å•çš„ã€‚



<br>

**å®‰è£… Docker çš„æ–¹æ³•**

1. Docker Desktop for Linux è¿™æ˜¯æœ€ç®€å•ã€æœ€å¿«æ·çš„å…¥é—¨æ–¹å¼ã€‚
2. apt è®¾ç½®å¹¶å®‰è£… Docker ã€‚
3. ä½¿ç”¨ [ä¾¿æ·è„šæœ¬](https://docs.docker.com/engine/install/ubuntu/#install-using-the-convenience-script)ã€‚ä»…æ¨èç”¨äºæµ‹è¯•å’Œå¼€å‘ç¯å¢ƒã€‚

è¿™ä¸‰ç§æ–¹å¼å„æœ‰åˆ©å¼Šï¼š

- æ–¹å¼1 æ˜¯æœ€ç®€å•çš„ï¼Œä½†æ˜¯åœ¨äº‘æœåŠ¡å™¨ä¸Šæ²¡æœ‰æ¡Œé¢ç³»ç»Ÿä¸èƒ½ä½¿ç”¨ Desktop çš„æ–¹å¼ã€‚
- æ–¹å¼2 é€‚åˆæµç•…è®¿é—®å¤–ç½‘çš„ç”¨æˆ·ï¼Œåœ¨å›½å†…ç½‘ç»œä¸‹ç”¨è¿™ç§æ–¹å¼å®‰è£…ä¼šéå¸¸ç¼“æ…¢ã€‚
- æ–¹å¼3 é€‚åˆåˆå­¦è€…å­¦ä¹ ï¼Œå®‰è£…ç›¸å¯¹ç®€å•ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒç«™ã€‚ã€**æ¨èçš„æ–¹å¼**ã€‘

<br>

### ç¬¬äºŒæ­¥ï¼šå®‰è£… Dockerï¼ˆè„šæœ¬çš„æ–¹å¼ï¼‰

åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤

```bash
// ä¸‹è½½è„šæœ¬
ubuntu@VM-12-14-ubuntu:~$ curl -fsSL https://get.docker.com -o get-docker.sh
ubuntu@VM-12-14-ubuntu:~$ ls
get-docker.sh

// å®‰è£…docker
ubuntu@VM-12-14-ubuntu:~$sudo sh get-docker.sh --mirror Aliyun
```



### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ docker å®‰è£…æˆåŠŸ

~~~bash
ubuntu@VM-12-14-ubuntu:~$ sudo docker version
ubuntu@VM-12-14-ubuntu:~$ sudo docker compose version
ubuntu@VM-12-14-ubuntu:~$ sudo docker pull nginx
~~~





### ç¬¬å››æ­¥ï¼šæ£€æŸ¥ daemon.json

Docker å®‰è£…åäº†ä¹‹åéœ€è¦æµ‹è¯•æ˜¯å¦å¯ä»¥ä¸‹è½½é•œåƒï¼Œå¦‚æœå› ä¸ºé•œåƒæºçš„é—®é¢˜ä¸èƒ½ä¸‹è½½åˆ™éœ€è¦é…ç½®è…¾è®¯äº‘å®˜æ–¹é•œåƒæºã€‚

æ£€æŸ¥æ˜¯å¦å­˜åœ¨æ–‡ä»¶ï¼š`/etc/docker/daemon.json` ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ–°å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶æŠŠå¦‚ä¸‹é…ç½®æ·»åŠ åˆ°æ–‡ä»¶ä¸­ã€‚

```bash
ubuntu@VM-12-14-ubuntu:~$ cat /etc/docker/daemon.json 
{
    "registry-mirrors": [
        "https://mirror.ccs.tencentyun.com"
    ]
}
```

éœ€è¦é‡å¯ Docker æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ

~~~bash
sudo systemctl restart docker
~~~



```alert type=note
ä½¿ç”¨ systemctl ç®¡ç† docker æœåŠ¡çš„å¸¸ç”¨æŒ‡ä»¤ <br>
```sudo systemctl start docker``` <br>
```sudo systemctl stop docker```  <br>
```sudo systemctl restart docker```<br>
```sudo systemctl status docker```<br>
```sudo systemctl enable docker```<br>
```





### ç¬¬äº”æ­¥ï¼š éªŒè¯æ¢æºæˆåŠŸ

~~~bash

ubuntu@VM-12-14-ubuntu:~$ sudo docker pull nginx
Using default tag: latest
latest: Pulling from library/nginx
c29f5b76f736: Pull complete 
e19db8451adb: Pull complete 
24ff42a0d907: Pull complete 
c558df217949: Pull complete 
976e8f6b25dd: Pull complete 
6c78b0ba1a32: Pull complete 
84cade77a831: Pull complete 
Digest: sha256:91734281c0ebfc6f1aea979cffeed5079cfe786228a71cc6f1f46a228cde6e34
Status: Downloaded newer image for nginx:latest
docker.io/library/nginx:latest
ubuntu@VM-12-14-ubuntu:~$ sudo docker images
REPOSITORY   TAG       IMAGE ID       CREATED      SIZE
nginx        latest    97662d24417b   9 days ago   192MB
~~~

å¦‚æœçœ‹åˆ°ä¸Šè¿°åé¦ˆå†…å®¹ï¼Œåˆ™è¡¨æ˜ä½ çš„ Docker å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œæ­å–œğŸ‰ğŸ‰ğŸ‰ã€‚
